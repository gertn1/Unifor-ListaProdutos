<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Inicio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
      /* Estilos para o footer */
      footer {
          position: fixed;
          bottom: 0;
          left: 0;
          width: 100%;
          background-color: #1d70a2;
          color: white;
          text-align: center;
          padding: 10px;
      }
      #productList{
        text-align: center;
      

      }
      h1 {
        text-align: center;
        padding: 7%;

      }
      
      
  </style>
  </head>
  <body>

    <nav class="nav nav-pills flex-column flex-sm-row">
      <a class="flex-sm-fill text-sm-center nav-link" aria-current="page" href="./criarProduto.html">Criar Produto</a>
      <a class="flex-sm-fill text-sm-center nav-link" href="./editarDeletarP.html">Editar ou Deletar Produto</a>
      <a class="flex-sm-fill text-sm-center nav-link" href="./criarUsuario.html">Criar Usuario</a>
      <a class="flex-sm-fill text-sm-center nav-link" href="./listaUsuario.html">Listar Usuarios</a>
      
    </nav>

  
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<h1>Lista de Produtos</h1>
    <ul id="productList"></ul>

    <script>
        const apiUrl = 'https://parseapi.back4app.com/classes/Product';
        const headers = {
            'X-Parse-Application-Id': 'juHvXqfJSaSIt8E832WOk28wqMG9u9fNyX2gbnGl',
            'X-Parse-REST-API-Key': 'yu2c2hdmOOB3MleckoeGhskqy1lxoZz5lWjWK1fM',
        };

        function listProducts() {
            fetch(apiUrl, {
                headers: headers,
            })
            .then(response => response.json())
            .then(data => {
                const productList = document.getElementById('productList');
                productList.innerHTML = '';

                data.results.forEach(product => {
                    const li = document.createElement('li');
                    li.textContent = `Nome: ${product.name}, Descrição: ${product.description}, Preço: ${
                        parseFloat(product.price).toFixed(2) // Converter preço para número
                    }, Marca: ${product.marca}, Estoque: ${
                        parseInt(product.stock) // Converter estoque para número
                    }`;

                    productList.appendChild(li);
                });
            })
            .catch(error => {
                console.error('Erro ao buscar a lista de produtos:', error);
            });
        }

        window.onload = listProducts;
    </script>
    <footer>
      <p>Trabalho Dev Software em Nuvem</p>
  </footer>
</body>
</html>


